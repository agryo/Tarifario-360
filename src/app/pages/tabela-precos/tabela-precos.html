<p-toast position="top-center"></p-toast>

<!-- TÃ­tulo da pÃ¡gina -->
<div class="tabela-container">
  <div class="titulo-tabela bg-blue-50 p-1 border-round text-center mb-0">
    <h1 class="text-3xl font-bold text-center">ðŸ“Š Tabela de PreÃ§os</h1>
  </div>
</div>

<!-- BotÃµes de aÃ§Ã£o (nÃ£o imprimÃ­veis) -->
<div class="no-print">
  <div class="flex flex-wrap gap-2 justify-content-center">
    <p-button
      label="â„ï¸ Baixa Temporada"
      styleClass="p-button-success p-button-raised"
      (click)="gerarTabela('baixa')"
    >
    </p-button>
    <p-button
      label="ðŸ”¥ Alta Temporada"
      styleClass="p-button-danger p-button-raised"
      (click)="gerarTabela('alta')"
    >
    </p-button>
    <p-button
      label="ðŸ–¨ï¸ Imprimir PDF"
      styleClass="p-button-secondary p-button-raised"
      (click)="imprimir()"
    >
    </p-button>
    <p-button
      label="Voltar"
      icon="pi pi-arrow-left"
      styleClass="p-button-help p-button-raised"
      (click)="voltar()"
    >
    </p-button>
  </div>
</div>

<!-- ConteÃºdo da tabela (imprimÃ­vel) -->
<div class="page" id="folha-a4">
  <div class="header">
    <h1 [ngClass]="temporadaAtual === 'alta' ? 'titulo-alta' : 'titulo-baixa'">
      TABELA DE PREÃ‡OS {{ getTituloTemporada() }} TEMPORADA
    </h1>
  </div>

  <div class="tabela-container" *ngIf="grupos.length > 0; else semDados">
    <div *ngFor="let grupo of grupos" class="bloco-categoria">
      <!-- NÃºmeros das UHs -->
      <div class="numero-uh-topo">{{ grupo.uhs }}</div>

      <!-- ConteÃºdo do grupo -->
      <div class="conteudo-detalhes">
        <div class="titulo-uh">{{ getTituloCategoria(grupo.itens[0].nome) }}</div>

        <!-- Comodidades globais (da configuraÃ§Ã£o) -->
        <div class="comodidades-gerais" *ngIf="config.comodidadesGlobais">
          {{ config.comodidadesGlobais }}
        </div>

        <!-- Itens do grupo -->
        <div *ngFor="let item of grupo.itens" class="item-preco-linha">
          <div class="desc-especifica">
            {{ getCamasText(item) }} - {{ item.descricao || 'Sem descriÃ§Ã£o' }}
          </div>
          <div class="preco-texto">
            R$ {{ getPreco(item)[0] | number: '1.2-2' }} -
            <span class="sem-cafe">R$ {{ getPreco(item)[1] | number: '1.2-2' }} Sem CafÃ©.</span>
            <span class="sufixo-label">{{ getLabelSufixo(item, grupo) }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <ng-template #semDados>
    <div class="text-center p-5">
      <p-message severity="info" text="Nenhuma categoria com UHs cadastradas."></p-message>
      <p class="mt-3">
        Configure as categorias no Painel Master antes de gerar a tabela de preÃ§os.
      </p>
      <p-button label="Ir para Painel Master" icon="pi pi-cog" (click)="voltar()"></p-button>
    </div>
  </ng-template>
</div>
